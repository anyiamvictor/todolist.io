(()=>{"use strict";const e=["0px 1px 10px #33FF57","0px 1px 10px #5733FF","0px 1px 10px #FF33D0","0px 1px 10px #33FFC5","0px 1px 10px #FF5733","0px 1px 10px #33A4FF","0px 1px 10px #FF33E0","0px 1px 10px #FF7733","0px 1px 10px #33FFA7","0px 1px 10px #FF33F2","0px 1px 10px #33FF33","0px 1px 10px #FF33FF","0px 1px 10px #337AFF","0px 1px 10px #FFA733","0px 1px 10px #33FFA7","0px 1px 10px #FF33FF","0px 1px 10px #33A4FF","0px 1px 10px #FF33D0","0px 1px 10px #33FFC5","0px 1px 10px #FF5733"];let t=-1;class n{constructor(e,t,n){this.id=function(){let e="";for(let t=0;t<4;t++){const t=Math.floor(62*Math.random());e+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(t)}return e}(),this.title=e,this.description=t,this.status=!1,this.priority=n}setPriorityHigh(){return"High"}setPriorityMedium(){return"Medium"}setPriorityLow(){return"Low"}SetStatusComplete(){return this.status=!0}SetStatusReset(){return this.status=!1}deleteItem(){this.remove()}}class d{static nextId=1;constructor(e){this.arr=[],this.name=e,this.id=d.nextId++}changeName(e){this.name=e}addTaskFxn(e){this.arr.push(e)}deleteTask(e){this.arr=this.arr.filter((t=>t.id!==e))}}const a=new Date;console.log(a),document.addEventListener("DOMContentLoaded",function(){const a=document.getElementById("content");a.append(function(){const e=document.createElement("header"),t=document.createElement("h1");return t.textContent="your simple Todo application",e.id="header",e.append(t),e}()),a.append(function(){const a=document.createElement("button");return a.classList.add("createTaskButton"),a.innerHTML="create task group",a.addEventListener("click",(function(){document.getElementById("content").append(function(){const a=document.createElement("input");a.id="due_date",a.type="datetime-local",a.placeholder="Select due date and time (mm/dd/yyyy, hh:mm)";const i=new d;i.name=prompt("Enter the group name");const o=document.createElement("div");o.id=`${i.name}_id`,o.classList.add("group_wrapper");const s=function(){let n;do{n=Math.floor(Math.random()*e.length)}while(n===t);return t=n,e[n]}();o.style.boxShadow=s;const c=document.createElement("h1");c.style.textAlign="center",c.textContent=i.name||"click on Edit to enter a name",c.classList.add("title");const p=document.createElement("div");p.classList.add("addTaskWrapperClass"),p.classList.add("addTaskWrapperClass2");const r=document.createElement("form");r.id=`${i.name}_formId`,r.classList.add("hidden");const l=document.createElement("input");l.setAttribute("maxlength","35"),l.setAttribute("autocomplete","off"),l.type="text",l.id=`task_title_${i.id}`,l.placeholder="task name or title",l.setAttribute("autocomplete","off"),l.setAttribute("maxlength","20");const m=document.createElement("input");m.placeholder="enter description",m.type="text",m.id=`task_description_${i.id}`,m.setAttribute("maxlength","40"),m.setAttribute("autocomplete","off");const u=document.createElement("select");document.createElement("p").id="priority_value";const x=document.createElement("option");x.value="high",x.text="High";const h=document.createElement("option");h.value="medium",h.text="Medium";const E=document.createElement("option");E.value="low",E.text="Low",u.appendChild(x),u.appendChild(h),u.appendChild(E);const L=document.createElement("button");L.id="addbtn",L.textContent="Add Task",L.addEventListener("click",(function(e){e.preventDefault();const t=document.getElementById(`task_title_${i.id}`),d=document.getElementById(`task_description_${i.id}`);if(!t.value||!d.value)return void alert("cannot have empty inputs");const s=new n;s.title=t.value,s.description=d.value;const c=u.value;"high"===c&&(s.priority=s.setPriorityHigh()),"medium"===c&&(s.priority=s.setPriorityMedium()),"low"===c&&(s.priority=s.setPriorityLow());const p=(l=a.value,new Date(l).toLocaleString(void 0,{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",hour12:!0}));var l;i.addTaskFxn(s),function(e,t,n,d){const a=document.createElement("div"),i=document.createElement("div"),o=document.createElement("div"),s=document.createElement("div"),c=document.createElement("div"),p=document.createElement("div"),r=document.createElement("div");i.classList.add("taskWrapper"),o.classList.add("taskWrapper"),s.classList.add("taskWrapper"),c.classList.add("taskWrapper"),p.classList.add("taskWrapper"),r.classList.add("taskWrapper"),a.classList.add("addTaskWrapperClass");const l=document.createElement("P"),m=document.createElement("P"),u=document.createElement("P"),x=document.createElement("p"),h=document.createElement("p"),E=document.createElement("input"),L=document.createElement("p"),g=document.createElement("label"),F=document.createElement("p"),k=document.createElement("button"),C=document.createElement("p"),v=document.createElement("p"),y=document.createElement("p");C.textContent="Priority:",l.textContent="ID:",u.textContent="Description:",m.textContent="Title:",v.textContent="Due Date:",g.textContent="Completed Task:",y.textContent=d,E.type="checkbox",u.id="descName",m.id="titelName",g.id="labelName",g.setAttribute("for","selectStatusId"),E.id="statusName",C.id="priorityName",k.id="delTask",k.classList.add("deleteButton"),k.textContent="click completed to delete ",k.disabled=!0,a.id=e.id,h.textContent=e.id,h.id="idName",x.textContent=e.title,x.id="titleUi",F.textContent=e.description,F.id="descUi",L.textContent=e.priority,L.id="priorityui",y.id="due_date_ui",i.append(l),i.append(h),o.append(m),o.append(x),s.append(u),s.append(F),c.append(g),c.append(E),p.append(C),p.append(L),r.append(v),r.append(y),a.append(i),a.append(o),a.append(s),a.append(c),a.append(p),a.append(r),a.append(k),t.append(a),E.addEventListener("change",(function(){E.checked?(k.disabled=!1,k.textContent="Delete Completed Task",k.style.backgroundColor="#FF0000"):(k.disabled=!0,k.textContent="Completed Task must be checked",k.style.backgroundColor="")})),k.addEventListener("click",(function(e){const t=e.target.closest(".addTaskWrapperClass");if(t){const e=t.getAttribute("id");t.remove(),n.deleteTask(e)}}))}(s,o,i,p),t.value="",d.value="",document.getElementById(`${i.name}_id_btn`).classList.remove("hidden"),r.classList.add("hidden"),console.log(i)})),r.append(l),r.append(m),r.append(u),r.append(a),r.append(L);const g=document.createElement("button");g.textContent="Hide Tasks",g.addEventListener("click",(function(){F.classList.toggle("hidden"),o.querySelectorAll(".addTaskWrapperClass").forEach((e=>{e.classList.toggle("hidden"),e.classList.contains("hidden")&&(g.textContent="Show Tasks"),e.classList.contains("hidden")||(g.textContent="Hide Tasks")}))}));const F=document.createElement("div");return F.id=`${i.name}_id_btn`,F.classList.add("add_new_btn"),F.textContent="+",F.addEventListener("click",(function(){document.getElementById(`${i.name}_id_btn`).classList.add("hidden"),r.classList.remove("hidden")})),p.append(r),o.append(c),o.append(function(){const e=(new Date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"}),t=document.createElement("div"),n=document.createElement("h3"),d=document.createElement("span");return t.classList.add("date_title"),d.textContent=e,n.textContent="Date Created:",t.append(n,d),t}()),o.append(function(e,t){const n=document.createElement("div");n.classList.add("editGroup"),n.addEventListener("click",(function(){a.classList.toggle("hidden"),i.classList.toggle("hidden"),t.classList.toggle("hidden"),d.textContent="Edit"===d.textContent?"Hide":"Edit"}));const d=document.createElement("p");d.innerHTML="Edit",d.classList.add("msgBtn");const a=document.createElement("button");a.textContent="delete group",a.classList.add("hidden"),a.classList.add("editBtn","btn"),a.addEventListener("click",(function(){e.remove()}));const i=document.createElement("button");return i.classList.add("hidden"),i.classList.add("editBtn","btn"),i.textContent="rename group",i.addEventListener("click",(function(){const t=prompt("Enter a new Group Name");e.querySelector("h1").textContent=t||"click group Edit to add a group name"})),t.classList.add("hidden"),t.classList.add("editBtn","btn"),n.append(d),n.append(a),n.append(i),n.append(t),n}(o,g)),o.append(p),o.append(F),o}()),a.classList.add("groupadded")})),a}())}())})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QkFrRyxFQUFlN0YsVUFBVUMsSUFBSSxVQUM3QjRGLEVBQWU3RixVQUFVQyxJQUFJLFVBQVcsT0FDeEM0RixFQUFlaEcsWUFBYyxlQUM3QmdHLEVBQWV2RyxpQkFBaUIsU0FBUyxXQUNyQyxNQUFNeUcsRUFBVXhGLE9BQU8sMEJBRURrRixFQUFHTyxjQUFjLE1BQ3pCbkcsWUFBWWtHLEdBQVUsc0NBRXhDLElBR0FMLEVBQUkxRixVQUFVQyxJQUFJLFVBQ2xCeUYsRUFBSTFGLFVBQVVDLElBQUksVUFBVyxPQUU3QjBGLEVBQWFsRyxPQUFPcUcsR0FDcEJILEVBQWFsRyxPQUFPbUcsR0FDcEJELEVBQWFsRyxPQUFPb0csR0FDcEJGLEVBQWFsRyxPQUFPaUcsR0FFYkMsQ0FFUCxDQXJOb0JNLENBQVV6RixFQUFjbUUsSUFDNUNuRSxFQUFhZixPQUFPdUIsR0FDcEJSLEVBQWFmLE9BQU9tRixHQUVicEUsQ0FFWCxDQXlOdUIwRixJQUNmbkcsRUFBaUJDLFVBQVVDLElBQUksYUFDbkMsSUFFTUYsQ0FDVixDQ2plbUJBLEdBRW5CLENDbEI4Q29HLEciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly90b2RvbGlzdC5pby8uL3NyYy90YXNrT2JqZWN0cy5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC5pby8uL3NyYy9wYWdlTG9hZC5qcyIsIndlYnBhY2s6Ly90b2RvbGlzdC5pby8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvL0kga25vdyBpIHNob3VsZCBwdXQgc29tZSBjb21wb25lbnRzIGluIHRoZWlyIG93biBtb2R1bGUgYnV0IGFjY2VwdCBteSBmbGF3cyBmb3IgaSBhbSBodW1hbiBidXQgd2lsbCBnZXQgYmV0dGVyLi4uLvCfmK3wn5it8J+YrVxyXG5cclxuLy9SYW5kb20gaWQgZ2VuZXJhdG9yXHJcbmZ1bmN0aW9uIGdlbmVyYXRlUmFuZG9tSWQoKSB7XHJcbiAgY29uc3QgY2hhcmFjdGVycyA9ICdBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSc7XHJcbiAgbGV0IGlkID0gJyc7XHJcbiAgXHJcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCA0OyBpKyspIHtcclxuICAgIGNvbnN0IHJhbmRvbUluZGV4ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcmFjdGVycy5sZW5ndGgpO1xyXG4gICAgaWQgKz0gY2hhcmFjdGVycy5jaGFyQXQocmFuZG9tSW5kZXgpO1xyXG4gIH1cclxuICBcclxuICByZXR1cm4gaWQ7XHJcbn1cclxuXHJcbmNvbnN0IGJveFNoYWRvd3MgPSBbXHJcbiAgXCIwcHggMXB4IDEwcHggIzMzRkY1N1wiLCAgIC8vIEdyZWVuXHJcbiAgXCIwcHggMXB4IDEwcHggIzU3MzNGRlwiLCAgIC8vIEJsdWVcclxuICBcIjBweCAxcHggMTBweCAjRkYzM0QwXCIsICAgLy8gUHVycGxlXHJcbiAgXCIwcHggMXB4IDEwcHggIzMzRkZDNVwiLCAgIC8vIFRlYWxcclxuICBcIjBweCAxcHggMTBweCAjRkY1NzMzXCIsICAgLy8gT3JhbmdlXHJcbiAgXCIwcHggMXB4IDEwcHggIzMzQTRGRlwiLCAgIC8vIFNreSBCbHVlXHJcbiAgXCIwcHggMXB4IDEwcHggI0ZGMzNFMFwiLCAgIC8vIFBpbmtcclxuICBcIjBweCAxcHggMTBweCAjRkY3NzMzXCIsICAgLy8gQ29yYWxcclxuICBcIjBweCAxcHggMTBweCAjMzNGRkE3XCIsICAgLy8gTWludCBHcmVlblxyXG4gIFwiMHB4IDFweCAxMHB4ICNGRjMzRjJcIiwgICAvLyBNYWdlbnRhXHJcbiAgXCIwcHggMXB4IDEwcHggIzMzRkYzM1wiLCAgIC8vIExpbWUgR3JlZW5cclxuICBcIjBweCAxcHggMTBweCAjRkYzM0ZGXCIsICAgLy8gSG90IFBpbmtcclxuICBcIjBweCAxcHggMTBweCAjMzM3QUZGXCIsICAgLy8gQ29iYWx0IEJsdWVcclxuICBcIjBweCAxcHggMTBweCAjRkZBNzMzXCIsICAgLy8gR29sZFxyXG4gIFwiMHB4IDFweCAxMHB4ICMzM0ZGQTdcIiwgICAvLyBBcXVhXHJcbiAgXCIwcHggMXB4IDEwcHggI0ZGMzNGRlwiLCAgIC8vIEZ1Y2hzaWFcclxuICBcIjBweCAxcHggMTBweCAjMzNBNEZGXCIsICAgLy8gTGlnaHQgQmx1ZVxyXG4gIFwiMHB4IDFweCAxMHB4ICNGRjMzRDBcIiwgICAvLyBPcmNoaWRcclxuICBcIjBweCAxcHggMTBweCAjMzNGRkM1XCIsICAgLy8gQ3lhblxyXG4gIFwiMHB4IDFweCAxMHB4ICNGRjU3MzNcIiAgICAvLyBWZXJtaWxpb25cclxuXTtcclxuXHJcbmxldCBwcmV2aW91c0JveFNoYWRvd0luZGV4ID0gLTE7IC8vIEluaXRpYWxpemUgdG8gYW4gaW52YWxpZCBpbmRleFxyXG5cclxuLy9HZXR0aW5nIGEgcmFuZG9tIGJveCBzaGFkb3dcclxuZnVuY3Rpb24gZ2V0UmFuZG9tVW5pcXVlQm94U2hhZG93KCkge1xyXG4gIGxldCByYW5kb21JbmRleDtcclxuICBkbyB7XHJcbiAgICByYW5kb21JbmRleCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGJveFNoYWRvd3MubGVuZ3RoKTtcclxuICB9IHdoaWxlIChyYW5kb21JbmRleCA9PT0gcHJldmlvdXNCb3hTaGFkb3dJbmRleCk7IC8vVG8gRW5zdXJlIGl0J3Mgbm90IHRoZSBzYW1lIGFzIHRoZSBwcmV2aW91cyBvbmVcclxuXHJcbiAgcHJldmlvdXNCb3hTaGFkb3dJbmRleCA9IHJhbmRvbUluZGV4OyAvL1RvIFN0b3JlIHRoZSBjdXJyZW50IGluZGV4IGFzIHRoZSBwcmV2aW91cyBvbmVcclxuXHJcbiAgcmV0dXJuIGJveFNoYWRvd3NbcmFuZG9tSW5kZXhdO1xyXG59XHJcblxyXG4vL0R1ZSBkYXRlIGZvcm1hdCBmb3IgVUlcclxuZnVuY3Rpb24gZm9ybWF0RGF0ZVRpbWUoZGF0ZVRpbWVTdHIpIHtcclxuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgXHJcbiAgICAgICAgICAgICAgICB5ZWFyOiAnbnVtZXJpYycsIFxyXG4gICAgICAgICAgICAgICAgbW9udGg6ICcyLWRpZ2l0JywgXHJcbiAgICAgICAgICAgICAgICBkYXk6ICcyLWRpZ2l0JywgXHJcbiAgICAgICAgICAgICAgICBob3VyOiAnMi1kaWdpdCcsIFxyXG4gICAgICAgICAgICAgICAgbWludXRlOiAnMi1kaWdpdCcsIFxyXG4gICAgICAgICAgICAgICAgaG91cjEyOiB0cnVlIFxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoZGF0ZVRpbWVTdHIpLnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCwgb3B0aW9ucyk7XHJcbiAgICAgICAgfVxyXG5cclxuLy9PYmplY3QgZm9yIHRvZG8taXRlbXNcclxuY2xhc3MgVG9kb0l0ZW1zIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvciggdGl0bGUsIGRlc2NyaXB0aW9uLCBwcmlvcml0eSl7XHJcblxyXG4gICAgICAgIHRoaXMuaWQgPSBnZW5lcmF0ZVJhbmRvbUlkKCk7XHJcbiAgICAgICAgdGhpcy50aXRsZSA9IHRpdGxlO1xyXG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBkZXNjcmlwdGlvbjtcclxuICAgICAgICB0aGlzLnN0YXR1cyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMucHJpb3JpdHkgPSBwcmlvcml0eTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRQcmlvcml0eUhpZ2goKSB7XHJcbiAgICAgICAgY29uc3QgaGlnaCA9ICdIaWdoJztcclxuICAgICAgICByZXR1cm4gaGlnaFxyXG4gICAgfVxyXG5cclxuICAgIHNldFByaW9yaXR5TWVkaXVtKCkge1xyXG4gICAgICAgIGNvbnN0IG1lZGl1bSA9ICdNZWRpdW0nO1xyXG4gICAgICAgIHJldHVybiBtZWRpdW1cclxuICAgIH1cclxuXHJcbiAgICBzZXRQcmlvcml0eUxvdygpIHtcclxuICAgICAgICBjb25zdCBsb3cgPSAnTG93JztcclxuICAgICAgICByZXR1cm4gbG93XHJcbiAgICB9XHJcblxyXG4gICAgU2V0U3RhdHVzQ29tcGxldGUoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RhdHVzID0gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAgIFNldFN0YXR1c1Jlc2V0KCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnN0YXR1cyA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZUl0ZW0oKSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmUoKVxyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLy8gT2JqZWN0IGZvciB0b2RvLWdyb3VwXHJcbmNsYXNzIFRvZG9Hcm91cCB7XHJcbiAgICBzdGF0aWMgbmV4dElkID0gMTtcclxuICAgIFxyXG4gICAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHRoaXMuYXJyID0gW107XHJcbiAgICAgICAgICB0aGlzLm5hbWUgPSBuYW1lO1xyXG4gICAgICAgICAgdGhpcy5pZCA9IFRvZG9Hcm91cC5uZXh0SWQrKztcclxuICAgICAgICAgfVxyXG4gICAgICAgXHJcbiAgICAgIGNoYW5nZU5hbWUobmFtZSkge1xyXG4gICAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcclxuICAgICAgfVxyXG5cclxuXHJcbiAgICAgIGFkZFRhc2tGeG4odGFzaykge1xyXG4gICAgICAgICAgdGhpcy5hcnIucHVzaCh0YXNrKVxyXG4gICAgICB9XHJcblxyXG4gICAgIGRlbGV0ZVRhc2sodGFza0lkKSB7XHJcbiAgICAgICAgdGhpcy5hcnIgPSB0aGlzLmFyci5maWx0ZXIoKHRhc2spID0+IHRhc2suaWQgIT09IHRhc2tJZCk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vLyBDcmVhdGluZyB0aGUgdGFzayBlbGVtZW50c1xyXG5mdW5jdGlvbiBjcmVhdGVUYXNrSW5wdXRzKCkge1xyXG4gICAgLy9kdWUgZGF0ZSBpbnB1dCBjcmVhdGlvblxyXG4gICAgY29uc3QgZHVlRGF0ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICBkdWVEYXRlLmlkID0gJ2R1ZV9kYXRlJztcclxuICAgIGR1ZURhdGUudHlwZSA9ICdkYXRldGltZS1sb2NhbCc7XHJcbiAgICBkdWVEYXRlLnBsYWNlaG9sZGVyID0gJ1NlbGVjdCBkdWUgZGF0ZSBhbmQgdGltZSAobW0vZGQveXl5eSwgaGg6bW0pJzs7XHJcblxyXG4gICAgLy9jYWxsaW5nIGEgbmV3IGdyb3VwIGl0ZW0gY2xhc3NcclxuICAgIGNvbnN0IHRvZG9Hcm91cCA9IG5ldyBUb2RvR3JvdXA7XHJcbiAgICB0b2RvR3JvdXAubmFtZSA9IHByb21wdCgnRW50ZXIgdGhlIGdyb3VwIG5hbWUnKTtcclxuXHJcbiAgICAgY29uc3QgZ3JvdXBXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7ICAgLy8gY3JlYXRpbmcgY29udGFpbmVycyBmb3IgdGhlIGVudGlyZSBncm91cCBvZiB0b2RvIGl0ZW1zXHJcbiAgICAgZ3JvdXBXcmFwcGVyLmlkID0gYCR7dG9kb0dyb3VwLm5hbWV9X2lkYDtcclxuICAgICBncm91cFdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnZ3JvdXBfd3JhcHBlcicpO1xyXG4gICAgY29uc3QgcmFuZG9tQm94U2hhZG93ID0gZ2V0UmFuZG9tVW5pcXVlQm94U2hhZG93KCk7XHJcbiAgICBncm91cFdyYXBwZXIuc3R5bGUuYm94U2hhZG93ID0gcmFuZG9tQm94U2hhZG93O1xyXG5cclxuICAgIGNvbnN0IGdyb3VwVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xyXG4gICAgZ3JvdXBUaXRsZS5zdHlsZS50ZXh0QWxpZ24gPSAnY2VudGVyJztcclxuICAgIGdyb3VwVGl0bGUudGV4dENvbnRlbnQgPSB0b2RvR3JvdXAubmFtZSB8fCAnY2xpY2sgb24gRWRpdCB0byBlbnRlciBhIG5hbWUnO1xyXG4gICAgZ3JvdXBUaXRsZS5jbGFzc0xpc3QuYWRkKCd0aXRsZScpO1xyXG4gICAgXHJcbiAgICAvLyBjcmVhdGluZyB0aGUgY29udGFpbmVyIGZvciB0aGUgaW5wdXQgZWxlbWVudHMgb2YgdGhlIHRvZG8gaXRlbXNcclxuICAgIGNvbnN0IGFkZFRhc2tXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBhZGRUYXNrV3JhcHBlci5jbGFzc0xpc3QuYWRkKCdhZGRUYXNrV3JhcHBlckNsYXNzJyk7XHJcbiAgICBhZGRUYXNrV3JhcHBlci5jbGFzc0xpc3QuYWRkKCdhZGRUYXNrV3JhcHBlckNsYXNzMicpO1xyXG5cclxuICAgIC8vY3JlYXRpbmcgaW5wdXQgZWxlbWVudHMgdG8gZW50ZXIgdGhlIHRvZG8gaXRlbXNcclxuICAgIGNvbnN0IGZybSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2Zvcm0nKTtcclxuICAgIGZybS5pZCA9IGAke3RvZG9Hcm91cC5uYW1lfV9mb3JtSWRgO1xyXG4gICAgZnJtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG5cclxuICAgIGNvbnN0IGVudGVyVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgZW50ZXJUaXRsZS5zZXRBdHRyaWJ1dGUoJ21heGxlbmd0aCcsICczNScpO1xyXG4gICAgZW50ZXJUaXRsZS5zZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScsICdvZmYnKTtcclxuICAgIGVudGVyVGl0bGUudHlwZSA9ICd0ZXh0JztcclxuICAgIGVudGVyVGl0bGUuaWQgPSBgdGFza190aXRsZV8ke3RvZG9Hcm91cC5pZH1gXHJcbiAgICBlbnRlclRpdGxlLnBsYWNlaG9sZGVyID0gJ3Rhc2sgbmFtZSBvciB0aXRsZSc7XHJcbiAgICBlbnRlclRpdGxlLnNldEF0dHJpYnV0ZSgnYXV0b2NvbXBsZXRlJywgJ29mZicpO1xyXG4gICAgZW50ZXJUaXRsZS5zZXRBdHRyaWJ1dGUoJ21heGxlbmd0aCcsICcyMCcpO1xyXG4gIFxyXG4gICAgY29uc3QgZW50ZXJEZXNjcmlwdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XHJcbiAgICBlbnRlckRlc2NyaXB0aW9uLnBsYWNlaG9sZGVyID0gJ2VudGVyIGRlc2NyaXB0aW9uJztcclxuICAgIGVudGVyRGVzY3JpcHRpb24udHlwZSA9ICd0ZXh0JztcclxuICAgIGVudGVyRGVzY3JpcHRpb24uaWQgPSBgdGFza19kZXNjcmlwdGlvbl8ke3RvZG9Hcm91cC5pZH1gO1xyXG4gICAgZW50ZXJEZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ21heGxlbmd0aCcsICc0MCcpO1xyXG4gICAgZW50ZXJEZXNjcmlwdGlvbi5zZXRBdHRyaWJ1dGUoJ2F1dG9jb21wbGV0ZScsICdvZmYnKTtcclxuXHJcbiAgICBjb25zdCBwcmlvcml0eSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NlbGVjdCcpO1xyXG4gICAgY29uc3QgcHJpb3JpdHlWYWx1ZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgIHByaW9yaXR5VmFsdWUuaWQgPSAncHJpb3JpdHlfdmFsdWUnO1xyXG4gICBcclxuICAgIGNvbnN0IGhpZ2hPcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdvcHRpb24nKTtcclxuICAgIGhpZ2hPcHRpb24udmFsdWUgPSAnaGlnaCc7XHJcbiAgICBoaWdoT3B0aW9uLnRleHQgPSAnSGlnaCc7XHJcblxyXG4gICAgY29uc3QgbWVkaXVtT3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICBtZWRpdW1PcHRpb24udmFsdWUgPSAnbWVkaXVtJztcclxuICAgIG1lZGl1bU9wdGlvbi50ZXh0ID0gJ01lZGl1bSc7XHJcblxyXG4gICAgY29uc3QgbG93T3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnb3B0aW9uJyk7XHJcbiAgICBsb3dPcHRpb24udmFsdWUgPSAnbG93JztcclxuICAgIGxvd09wdGlvbi50ZXh0ID0gJ0xvdyc7XHJcblxyXG4gICAgcHJpb3JpdHkuYXBwZW5kQ2hpbGQoaGlnaE9wdGlvbik7XHJcbiAgICBwcmlvcml0eS5hcHBlbmRDaGlsZChtZWRpdW1PcHRpb24pO1xyXG4gICAgcHJpb3JpdHkuYXBwZW5kQ2hpbGQobG93T3B0aW9uKTtcclxuXHJcbiAgICBjb25zdCBhZGRCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcclxuICAgIGFkZEJ0bi5pZCA9ICdhZGRidG4nO1xyXG4gICAgYWRkQnRuLnRleHRDb250ZW50ID0gJ0FkZCBUYXNrJzsgXHJcbiAgICAvL1RoZSBhZGQgdGFzayBCdXR0b24gdG8gYWRkIHRoZSBpbnB1dGVkIGl0ZW1zIHRvIHRoZSBVSSBkaXNwbGF5IGFuZCB0b2RvIGFycmF5XHJcbiAgICBhZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxyXG4gICAgICAgIGNvbnN0IHRhc2tUaXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGB0YXNrX3RpdGxlXyR7dG9kb0dyb3VwLmlkfWApO1xyXG4gICAgICAgIGNvbnN0IHRhc2tEZXNjID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYHRhc2tfZGVzY3JpcHRpb25fJHt0b2RvR3JvdXAuaWR9YCk7XHJcbiAgICAgICAgaWYgKCEodGFza1RpdGxlLnZhbHVlKSB8fCAhKHRhc2tEZXNjLnZhbHVlKSkge1xyXG4gICAgICAgICAgICBhbGVydCgnY2Fubm90IGhhdmUgZW1wdHkgaW5wdXRzJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9ICAgICAgICBcclxuICAgICAgICBjb25zdCB0YXNrID0gbmV3IFRvZG9JdGVtcygpOyAvL2NyZWF0ZSBhIG5ldyB0b2RvIGl0ZW0gdGFzayBvYmplY3QuXHJcbiAgICAgICAgdGFzay50aXRsZSA9IHRhc2tUaXRsZS52YWx1ZTtcclxuICAgICAgICB0YXNrLmRlc2NyaXB0aW9uID0gdGFza0Rlc2MudmFsdWU7XHJcblxyXG4gICAgICAgIGNvbnN0IHNlbGVjdGVkVmFsdWUgPSBwcmlvcml0eS52YWx1ZTtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSA9PT0gJ2hpZ2gnKSB0YXNrLnByaW9yaXR5ID0gdGFzay5zZXRQcmlvcml0eUhpZ2goKTtcclxuICAgICAgICBpZiAoc2VsZWN0ZWRWYWx1ZSA9PT0gJ21lZGl1bScpIHRhc2sucHJpb3JpdHkgPSB0YXNrLnNldFByaW9yaXR5TWVkaXVtKCk7XHJcbiAgICAgICAgaWYgKHNlbGVjdGVkVmFsdWUgPT09ICdsb3cnKSB0YXNrLnByaW9yaXR5ID0gdGFzay5zZXRQcmlvcml0eUxvdygpOyAgICAgICAgXHJcblxyXG4gICAgICAgIGNvbnN0IGR1ZURhdGVWYWx1ZSA9IGZvcm1hdERhdGVUaW1lKGR1ZURhdGUudmFsdWUpOy8vIGdldCB0aGUgZHVlIGRhdGUgYW5kIGZvcm1hdCBpdFxyXG5cclxuICAgICAgICB0b2RvR3JvdXAuYWRkVGFza0Z4bih0YXNrKTtcclxuICAgICAgICBhZGRUYXNrKHRhc2ssIGdyb3VwV3JhcHBlciwgdG9kb0dyb3VwLCBkdWVEYXRlVmFsdWUpO1xyXG5cclxuICAgICAgICB0YXNrVGl0bGUudmFsdWUgPSAnJztcclxuICAgICAgICB0YXNrRGVzYy52YWx1ZSA9ICcnO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgJHt0b2RvR3JvdXAubmFtZX1faWRfYnRuYCkuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgZnJtLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHRvZG9Hcm91cCk7XHJcbiAgICB9KTtcclxuICAgIFxyXG4gICAgLy9hZGRpbmcgdGhlIGlucHV0IGZpZWxkcyB0byB0aGUgZm9ybSBjcmVhdGVkXHJcbiAgICBmcm0uYXBwZW5kKGVudGVyVGl0bGUpO1xyXG4gICAgZnJtLmFwcGVuZChlbnRlckRlc2NyaXB0aW9uKTtcclxuICAgIGZybS5hcHBlbmQocHJpb3JpdHkpO1xyXG4gICAgZnJtLmFwcGVuZChkdWVEYXRlKTtcclxuICAgIGZybS5hcHBlbmQoYWRkQnRuKTsgXHJcblxyXG5cclxuICAgIGNvbnN0IHRvZ2dsZVRhc2tzQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7ICAgIC8vVGhpcyBpcyBhIHRvZ2dsZSBidXR0b24gdGhhdCBkaXNwbGF5cyBhbmQgaGlkZXMgYWxsIHRvZG8gdGFza3MuIGl0IGlzIHBhc3NlZCB0byB0aGUgZ3JvdXBlZGl0IGFzIGFuIGFyZ3VtZW50XHJcbiAgICB0b2dnbGVUYXNrc0J1dHRvbi50ZXh0Q29udGVudCA9ICdIaWRlIFRhc2tzJzsgICAgXHJcbiAgICB0b2dnbGVUYXNrc0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBhZGROZXdCdG4uY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJylcclxuICAgICAgICBjb25zdCB0YXNrV3JhcHBlcnMgPSBncm91cFdyYXBwZXIucXVlcnlTZWxlY3RvckFsbCgnLmFkZFRhc2tXcmFwcGVyQ2xhc3MnKTtcclxuICAgICAgICB0YXNrV3JhcHBlcnMuZm9yRWFjaCgodGFza1dyYXBwZXIpID0+IHtcclxuICAgICAgICAgICAgdGFza1dyYXBwZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XHJcbiAgICAgICAgICAgIGlmICh0YXNrV3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB0b2dnbGVUYXNrc0J1dHRvbi50ZXh0Q29udGVudCA9ICdTaG93IFRhc2tzJztcclxuICAgICAgICAgICAgaWYgKCF0YXNrV3JhcHBlci5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGRlbicpKSB0b2dnbGVUYXNrc0J1dHRvbi50ZXh0Q29udGVudCA9ICdIaWRlIFRhc2tzJztcclxuXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIFxyXG5cclxuICAgIGNvbnN0IGFkZE5ld0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyAgICAgLy9idG4gZm9yICBkaXNwbGF5aW5nIHRoZSBmb3JtIFVJIGZvciBhZGRpbmcgbmV3IHRhc2tcclxuICAgIGFkZE5ld0J0bi5pZCA9IGAke3RvZG9Hcm91cC5uYW1lfV9pZF9idG5gO1xyXG4gICAgYWRkTmV3QnRuLmNsYXNzTGlzdC5hZGQoJ2FkZF9uZXdfYnRuJyk7ICAgIFxyXG4gICAgYWRkTmV3QnRuLnRleHRDb250ZW50ID0gJysnO1xyXG4gICAgYWRkTmV3QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7dG9kb0dyb3VwLm5hbWV9X2lkX2J0bmApLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xyXG4gICAgZnJtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpXHJcbiAgICB9KVxyXG5cclxuXHJcbiAgICBhZGRUYXNrV3JhcHBlci5hcHBlbmQoZnJtKTtcclxuXHJcbiAgICBncm91cFdyYXBwZXIuYXBwZW5kKGdyb3VwVGl0bGUpO1xyXG4gICAgZ3JvdXBXcmFwcGVyLmFwcGVuZChkYXRlQ3JlYXRlZCgpKTsgLy8gcnVubmluZyB0aGUgZGF0ZSBjcmVhdGVkIGZ1bmN0aW9uIGZvciB0aGUgdG9kb0dyb3VwIGFuZCBhcHBlbmRpbmcgdG8gdGhlO1xyXG4gICAgZ3JvdXBXcmFwcGVyLmFwcGVuZChncm91cEVkaXQoZ3JvdXBXcmFwcGVyLCB0b2dnbGVUYXNrc0J1dHRvbikpO1xyXG4gICAgZ3JvdXBXcmFwcGVyLmFwcGVuZChhZGRUYXNrV3JhcHBlcik7XHJcbiAgICBncm91cFdyYXBwZXIuYXBwZW5kKGFkZE5ld0J0bik7XHJcbiAgICBcclxuICAgIHJldHVybiBncm91cFdyYXBwZXI7XHJcblxyXG59XHJcblxyXG4vL1NldHRpbmcgdGhlIGRhdGUgZWFjaCBncm91cCB3YXMgY3JlYXRlZFxyXG4vLyBmdW5jdGlvbiBkYXRlQ3JlYXRlZCgpIHtcclxuLy8gICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcclxuLy8gICAgICAgICBjb25zdCBkYXRlV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4vLyAgICAgICAgIGNvbnN0IGRhdGVUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcbi8vICAgICAgICAgY29uc3QgZGF0ZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcbi8vICAgICAgICAgZGF0ZVdyYXBwZXIuY2xhc3NMaXN0LmFkZCgnZGF0ZV90aXRsZScpO1xyXG4vLyAgICAgICAgIGRhdGVFbGVtZW50LmFwcGVuZChkYXRlKTtcclxuLy8gICAgICAgICBkYXRlVGl0bGUudGV4dENvbnRlbnQgPSAnRGF0ZSBDcmVhdGVkOic7XHJcbi8vICAgICAgICAgZGF0ZVdyYXBwZXIuYXBwZW5kKGRhdGVUaXRsZSwgZGF0ZUVsZW1lbnQpO1xyXG4vLyAgICAgICAgIHJldHVybiBkYXRlV3JhcHBlcjtcclxuLy8gfVxyXG5mdW5jdGlvbiBkYXRlQ3JlYXRlZCgpIHtcclxuICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcclxuICBjb25zdCBvcHRpb25zID0ge1xyXG4gICAgd2Vla2RheTogJ2xvbmcnLFxyXG4gICAgbW9udGg6ICdsb25nJyxcclxuICAgIGRheTogJ251bWVyaWMnLFxyXG4gICAgeWVhcjogJ251bWVyaWMnLFxyXG4gICAgaG91cjogJzItZGlnaXQnLFxyXG4gICAgbWludXRlOiAnMi1kaWdpdCcsXHJcbiAgICB0aW1lWm9uZU5hbWU6ICdzaG9ydCcsXHJcbiAgfTtcclxuXHJcbiAgY29uc3QgZm9ybWF0dGVkRGF0ZSA9IGRhdGUudG9Mb2NhbGVEYXRlU3RyaW5nKCdlbi1VUycsIG9wdGlvbnMpO1xyXG5cclxuICBjb25zdCBkYXRlV3JhcHBlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gIGNvbnN0IGRhdGVUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gzJyk7XHJcbiAgY29uc3QgZGF0ZUVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzcGFuJyk7XHJcblxyXG4gIGRhdGVXcmFwcGVyLmNsYXNzTGlzdC5hZGQoJ2RhdGVfdGl0bGUnKTtcclxuICBkYXRlRWxlbWVudC50ZXh0Q29udGVudCA9IGZvcm1hdHRlZERhdGU7XHJcbiAgZGF0ZVRpdGxlLnRleHRDb250ZW50ID0gJ0RhdGUgQ3JlYXRlZDonO1xyXG5cclxuICBkYXRlV3JhcHBlci5hcHBlbmQoZGF0ZVRpdGxlLCBkYXRlRWxlbWVudCk7XHJcbiAgcmV0dXJuIGRhdGVXcmFwcGVyO1xyXG59XHJcblxyXG4vL0NyZWF0aW5nIHRoZSBVSSBkaXNwbGF5IGFuZCBhZGRpbmcgdGhlIGlucHV0IGVsZW1lbnRzIHRvIHRoZSBsaXN0XHJcbmZ1bmN0aW9uIGFkZFRhc2sodHNrICx0c2tXcmFwcGVyLCB0b2RvR3JwLCBkdWVEYXRlKSB7ICAgICBcclxuICAgIGNvbnN0IHRhc2tXcmFwcGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBjb25zdCBpZFdycCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgdGl0bGVXcnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGRlc2NXcnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IHN0YXR1c1dycCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgY29uc3QgcHJpb3JpdHlXcnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuICAgIGNvbnN0IGR1ZURhdGVXcnAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHJcbiAgICBpZFdycC5jbGFzc0xpc3QuYWRkKCd0YXNrV3JhcHBlcicpO1xyXG4gICAgdGl0bGVXcnAuY2xhc3NMaXN0LmFkZCgndGFza1dyYXBwZXInKTtcclxuICAgIGRlc2NXcnAuY2xhc3NMaXN0LmFkZCgndGFza1dyYXBwZXInKTtcclxuICAgIHN0YXR1c1dycC5jbGFzc0xpc3QuYWRkKCd0YXNrV3JhcHBlcicpO1xyXG4gICAgcHJpb3JpdHlXcnAuY2xhc3NMaXN0LmFkZCgndGFza1dyYXBwZXInKTtcclxuICAgIGR1ZURhdGVXcnAuY2xhc3NMaXN0LmFkZCgndGFza1dyYXBwZXInKTtcclxuXHJcblxyXG4gICAgdGFza1dyYXBwZXIuY2xhc3NMaXN0LmFkZCgnYWRkVGFza1dyYXBwZXJDbGFzcycpO1xyXG5cclxuICAgIGNvbnN0IGlkTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1AnKTtcclxuICAgIGNvbnN0IHRpdGVsTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ1AnKTtcclxuICAgIGNvbnN0IGRlc2NOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnUCcpO1xyXG4gICAgIGNvbnN0IHRpdGxlVUkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICAgY29uc3QgaWRVSSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgICBjb25zdCBzZWxlY3RTdGF0dXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xyXG4gICAgIGNvbnN0IHByaW9yaXR5VUkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xyXG4gICAgIGNvbnN0IGRlc2NyaXB0aW9uVUkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICAgY29uc3QgZGVsZXRlVGFzayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgIGNvbnN0IHByaW9yaXR5TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcclxuICAgICBjb25zdCBkdWVEYXRlTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTsgICAgXHJcbiAgICAgY29uc3QgZHVlRGF0ZVVpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xyXG5cclxuICAgIFxyXG4gICAgcHJpb3JpdHlOYW1lLnRleHRDb250ZW50PSdQcmlvcml0eTonXHJcbiAgICBpZE5hbWUudGV4dENvbnRlbnQgPSAnSUQ6JztcclxuICAgIGRlc2NOYW1lLnRleHRDb250ZW50ID0gJ0Rlc2NyaXB0aW9uOidcclxuICAgIHRpdGVsTmFtZS50ZXh0Q29udGVudCA9ICdUaXRsZTonXHJcbiAgICBkdWVEYXRlTmFtZS50ZXh0Q29udGVudD0nRHVlIERhdGU6J1xyXG4gICAgbGFiZWwudGV4dENvbnRlbnQgPSAnQ29tcGxldGVkIFRhc2s6JztcclxuICAgIGR1ZURhdGVVaS50ZXh0Q29udGVudCA9IGR1ZURhdGU7XHJcbiAgICBcclxuICAgIHNlbGVjdFN0YXR1cy50eXBlID0gJ2NoZWNrYm94JztcclxuICAgIGRlc2NOYW1lLmlkID0gJ2Rlc2NOYW1lJztcclxuICAgIHRpdGVsTmFtZS5pZCA9ICd0aXRlbE5hbWUnO1xyXG4gICAgbGFiZWwuaWQgPSAnbGFiZWxOYW1lJztcclxuICAgIGxhYmVsLnNldEF0dHJpYnV0ZSgnZm9yJywgJ3NlbGVjdFN0YXR1c0lkJyk7XHJcbiAgICBzZWxlY3RTdGF0dXMuaWQgPSAnc3RhdHVzTmFtZSc7XHJcbiAgICBwcmlvcml0eU5hbWUuaWQgPSAncHJpb3JpdHlOYW1lJztcclxuICAgIGRlbGV0ZVRhc2suaWQgPSAnZGVsVGFzayc7XHJcbiAgICBkZWxldGVUYXNrLmNsYXNzTGlzdC5hZGQoJ2RlbGV0ZUJ1dHRvbicpXHJcbiAgICBkZWxldGVUYXNrLnRleHRDb250ZW50ID0gJ2NsaWNrIGNvbXBsZXRlZCB0byBkZWxldGUgJztcclxuICAgIGRlbGV0ZVRhc2suZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgXHJcbiAgICB0YXNrV3JhcHBlci5pZCA9IHRzay5pZDtcclxuICAgIGlkVUkudGV4dENvbnRlbnQgPSB0c2suaWQ7XHJcbiAgICBpZFVJLmlkID0gJ2lkTmFtZSc7ICAgIFxyXG4gICAgdGl0bGVVSS50ZXh0Q29udGVudCA9IHRzay50aXRsZTtcclxuICAgIHRpdGxlVUkuaWQ9XCJ0aXRsZVVpXCJcclxuICAgIGRlc2NyaXB0aW9uVUkudGV4dENvbnRlbnQgPSB0c2suZGVzY3JpcHRpb247XHJcbiAgICBkZXNjcmlwdGlvblVJLmlkPSdkZXNjVWknXHJcbiAgICBwcmlvcml0eVVJLnRleHRDb250ZW50ID0gdHNrLnByaW9yaXR5O1xyXG4gICAgcHJpb3JpdHlVSS5pZCA9IFwicHJpb3JpdHl1aVwiO1xyXG4gICAgZHVlRGF0ZVVpLmlkID0gJ2R1ZV9kYXRlX3VpJ1xyXG4gICAgICBcclxuICAgIGlkV3JwLmFwcGVuZChpZE5hbWUpO1xyXG4gICAgaWRXcnAuYXBwZW5kKGlkVUkpO1xyXG4gICAgdGl0bGVXcnAuYXBwZW5kKHRpdGVsTmFtZSk7XHJcbiAgICB0aXRsZVdycC5hcHBlbmQodGl0bGVVSSk7XHJcbiAgICBkZXNjV3JwLmFwcGVuZChkZXNjTmFtZSk7XHJcbiAgICBkZXNjV3JwLmFwcGVuZChkZXNjcmlwdGlvblVJKTtcclxuICAgIHN0YXR1c1dycC5hcHBlbmQobGFiZWwpO1xyXG4gICAgc3RhdHVzV3JwLmFwcGVuZChzZWxlY3RTdGF0dXMpOyBcclxuICAgIHByaW9yaXR5V3JwLmFwcGVuZChwcmlvcml0eU5hbWUpO1xyXG4gICAgcHJpb3JpdHlXcnAuYXBwZW5kKHByaW9yaXR5VUkpO1xyXG4gICAgZHVlRGF0ZVdycC5hcHBlbmQoZHVlRGF0ZU5hbWUpO1xyXG4gICAgZHVlRGF0ZVdycC5hcHBlbmQoZHVlRGF0ZVVpKTtcclxuXHJcblxyXG4gICAgdGFza1dyYXBwZXIuYXBwZW5kKGlkV3JwKTtcclxuICAgIHRhc2tXcmFwcGVyLmFwcGVuZCh0aXRsZVdycCk7XHJcbiAgICB0YXNrV3JhcHBlci5hcHBlbmQoZGVzY1dycCk7XHJcbiAgICB0YXNrV3JhcHBlci5hcHBlbmQoc3RhdHVzV3JwKTsgICAgIFxyXG4gICAgdGFza1dyYXBwZXIuYXBwZW5kKHByaW9yaXR5V3JwKTsgICAgXHJcbiAgICB0YXNrV3JhcHBlci5hcHBlbmQoZHVlRGF0ZVdycCk7IFxyXG4gICAgdGFza1dyYXBwZXIuYXBwZW5kKGRlbGV0ZVRhc2spOyBcclxuXHJcbiAgICB0c2tXcmFwcGVyLmFwcGVuZCh0YXNrV3JhcHBlcik7XHJcbiAgICBcclxuICAgIFxyXG4gICAgc2VsZWN0U3RhdHVzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vIElmIHRoZSBjaGVja2JveCBpcyBjaGVja2VkLCBlbmFibGUgdGhlIGRlbGV0ZSBidXR0b247IG90aGVyd2lzZSwgZGlzYWJsZSBpdFxyXG4gICAgaWYgKHNlbGVjdFN0YXR1cy5jaGVja2VkKSB7XHJcbiAgICAgICAgZGVsZXRlVGFzay5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgICAgIGRlbGV0ZVRhc2sudGV4dENvbnRlbnQgPSAnRGVsZXRlIENvbXBsZXRlZCBUYXNrJztcclxuICAgICAgICBkZWxldGVUYXNrLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcjRkYwMDAwJzsgLy8gQ2hhbmdlIHRoZSBidXR0b24ncyBjb2xvclxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZVRhc2suZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBkZWxldGVUYXNrLnRleHRDb250ZW50ID0gJ0NvbXBsZXRlZCBUYXNrIG11c3QgYmUgY2hlY2tlZCc7IC8vIENoYW5nZSB0aGUgYnV0dG9uJ3MgdGV4dFxyXG4gICAgICAgICAgICBkZWxldGVUYXNrLnN0eWxlLmJhY2tncm91bmRDb2xvciA9ICcnOyAvLyBSZW1vdmUgdGhlIGJhY2tncm91bmQgY29sb3JcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZWxldGVUYXNrLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHsgICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHRvZG9JdGVtID0gZS50YXJnZXQuY2xvc2VzdCgnLmFkZFRhc2tXcmFwcGVyQ2xhc3MnKTtcclxuICAgIFxyXG4gICAgICAgIGlmICh0b2RvSXRlbSkge1xyXG4gICAgICAgICAgICBjb25zdCBkZWxJZCA9IHRvZG9JdGVtLmdldEF0dHJpYnV0ZSgnaWQnKTtcclxuICAgICAgICAgICAgdG9kb0l0ZW0ucmVtb3ZlKCk7ICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHRvZG9HcnAuZGVsZXRlVGFzayhkZWxJZCk7XHJcbiAgICAgICAgfSAgICAgICAgICAgIFxyXG4gICAgfSk7XHJcblxyXG4gICAgcmV0dXJuIHRza1dyYXBwZXI7XHJcbn1cclxuXHJcbi8vRWRpdCBmdW5jdGlvbiBmb3IgdG9kbyBncm91cFxyXG5mdW5jdGlvbiBncm91cEVkaXQoZWwsIGVseikge1xyXG4gICAgY29uc3QgZ3JvdXBBY3Rpb25zID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcbiAgICBncm91cEFjdGlvbnMuY2xhc3NMaXN0LmFkZCgnZWRpdEdyb3VwJyk7ICAgIFxyXG4gICAgZ3JvdXBBY3Rpb25zLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGRlbGV0ZUdyb3VwQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xyXG4gICAgICAgIHJlbmFtZUdyb3VwQnRuLmNsYXNzTGlzdC50b2dnbGUoJ2hpZGRlbicpO1xyXG4gICAgICAgIGVsei5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKVxyXG4gICAgICAgIGdyb3VwQnRuTWVzc2FnZS50ZXh0Q29udGVudCA9IGdyb3VwQnRuTWVzc2FnZS50ZXh0Q29udGVudCA9PT0gJ0VkaXQnXHJcbiAgICAgICAgPyAnSGlkZScgOiAnRWRpdCc7XHJcbiAgICB9KVxyXG5cclxuXHJcbiAgICBjb25zdCBncm91cEJ0bk1lc3NhZ2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XHJcbiAgICBncm91cEJ0bk1lc3NhZ2UuaW5uZXJIVE1MID0gJ0VkaXQnO1xyXG4gICAgZ3JvdXBCdG5NZXNzYWdlLmNsYXNzTGlzdC5hZGQoJ21zZ0J0bicpXHJcblxyXG5cclxuICAgIGNvbnN0IGRlbGV0ZUdyb3VwQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XHJcbiAgICBkZWxldGVHcm91cEJ0bi50ZXh0Q29udGVudCA9ICdkZWxldGUgZ3JvdXAnO1xyXG4gICAgZGVsZXRlR3JvdXBCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICBkZWxldGVHcm91cEJ0bi5jbGFzc0xpc3QuYWRkKCdlZGl0QnRuJywgJ2J0bicpOyAgIFxyXG4gICAgZGVsZXRlR3JvdXBCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgZWwucmVtb3ZlKCk7XHJcblxyXG4gICAgfSlcclxuXHJcbiAgICBjb25zdCByZW5hbWVHcm91cEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgcmVuYW1lR3JvdXBCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICByZW5hbWVHcm91cEJ0bi5jbGFzc0xpc3QuYWRkKCdlZGl0QnRuJywgJ2J0bicpO1xyXG4gICAgcmVuYW1lR3JvdXBCdG4udGV4dENvbnRlbnQgPSAncmVuYW1lIGdyb3VwJztcclxuICAgIHJlbmFtZUdyb3VwQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IG5ld05hbWUgPSBwcm9tcHQoJ0VudGVyIGEgbmV3IEdyb3VwIE5hbWUnKTtcclxuICAgICAgICAvL3NlbGVjdCB0aGUgZmlyc3QgaDEgZWxlbWVudCB3aGljaCBoYXBwZW5zIHRvIGJlIHRoZSBncm91cCBuYW1lXHJcbiAgICAgICAgY29uc3QgbmFtZUNvbnRhaW5lciA9IGVsLnF1ZXJ5U2VsZWN0b3IoJ2gxJyk7XHJcbiAgICAgICAgbmFtZUNvbnRhaW5lci50ZXh0Q29udGVudD1uZXdOYW1lfHwgJ2NsaWNrIGdyb3VwIEVkaXQgdG8gYWRkIGEgZ3JvdXAgbmFtZSdcclxuXHJcbiAgICB9KVxyXG5cclxuXHJcbiAgICBlbHouY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XHJcbiAgICBlbHouY2xhc3NMaXN0LmFkZCgnZWRpdEJ0bicsICdidG4nKTsgICAgXHJcblxyXG4gICAgZ3JvdXBBY3Rpb25zLmFwcGVuZChncm91cEJ0bk1lc3NhZ2UpO1xyXG4gICAgZ3JvdXBBY3Rpb25zLmFwcGVuZChkZWxldGVHcm91cEJ0bik7XHJcbiAgICBncm91cEFjdGlvbnMuYXBwZW5kKHJlbmFtZUdyb3VwQnRuKTtcclxuICAgIGdyb3VwQWN0aW9ucy5hcHBlbmQoZWx6KTsgICAgICBcclxuICAgIFxyXG4gICAgcmV0dXJuIGdyb3VwQWN0aW9uc1xyXG4gICAgICAgIFxyXG4gICAgfVxyXG5cclxuXHJcbi8vQWRkaW5nIGEgdGFza2NyZWF0aW9uIGJ1dHRvblxyXG5mdW5jdGlvbiBjcmVhdGVUYXNrQnV0dG9uKCkge1xyXG4gICAgY29uc3QgY3JlYXRlVGFza0J1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xyXG4gICAgY3JlYXRlVGFza0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdjcmVhdGVUYXNrQnV0dG9uJylcclxuICAgIGNyZWF0ZVRhc2tCdXR0b24uaW5uZXJIVE1MID0gJ2NyZWF0ZSB0YXNrIGdyb3VwJztcclxuICAgIGNyZWF0ZVRhc2tCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgY29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250ZW50Jyk7XHJcbiAgICAgICAgY29udGVudC5hcHBlbmQoY3JlYXRlVGFza0lucHV0cygpKTsgICAgICAgIFxyXG4gICAgICAgIGNyZWF0ZVRhc2tCdXR0b24uY2xhc3NMaXN0LmFkZCgnZ3JvdXBhZGRlZCcpO1xyXG4gICAgfSlcclxuIFxyXG4gIHJldHVybiAgY3JlYXRlVGFza0J1dHRvbjtcclxufTtcclxuXHJcblxyXG5leHBvcnQgeyBUb2RvSXRlbXMsIGNyZWF0ZVRhc2tJbnB1dHMsIGFkZFRhc2ssIGNyZWF0ZVRhc2tCdXR0b24gfVxyXG4gIiwiaW1wb3J0IHsgY3JlYXRlVGFza0J1dHRvbiB9IGZyb20gJy4vdGFza09iamVjdHMuanMnO1xyXG5cclxuY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbmNvbnNvbGUubG9nKGRhdGUpXHJcblxyXG5mdW5jdGlvbiBjcmVhdGVIZWFkZXIoKSB7XHJcbiAgICBjb25zdCBoZWFkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaGVhZGVyJyk7XHJcbiAgICBjb25zdCBoZWFkVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdoMScpO1xyXG4gICAgaGVhZFRpdGxlLnRleHRDb250ZW50ID0gJ3lvdXIgc2ltcGxlIFRvZG8gYXBwbGljYXRpb24nO1xyXG4gICAgaGVhZC5pZD0naGVhZGVyJ1xyXG4gICAgaGVhZC5hcHBlbmQoaGVhZFRpdGxlKTtcclxuICAgIHJldHVybiBoZWFkXHJcbiAgICBcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gRmluYWxseSgpIHtcclxuICAgIGNvbnN0IGNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGVudCcpO1xyXG4gICAgY29udGVudC5hcHBlbmQoY3JlYXRlSGVhZGVyKCkpO1xyXG4gICAgY29udGVudC5hcHBlbmQoY3JlYXRlVGFza0J1dHRvbigpKTtcclxuXHJcbn1cclxuXHJcblxyXG5cclxuIiwiaW1wb3J0IEZpbmFsbHkgZnJvbSAnLi9wYWdlTG9hZC5qcyc7XHJcblxyXG5kb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdET01Db250ZW50TG9hZGVkJywgRmluYWxseSgpKTtcclxuXHJcbiJdLCJuYW1lcyI6WyJib3hTaGFkb3dzIiwicHJldmlvdXNCb3hTaGFkb3dJbmRleCIsIlRvZG9JdGVtcyIsImNvbnN0cnVjdG9yIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInByaW9yaXR5IiwidGhpcyIsImlkIiwiaSIsInJhbmRvbUluZGV4IiwiTWF0aCIsImZsb29yIiwiY2hhcmFjdGVycyIsInJhbmRvbSIsImNoYXJBdCIsImdlbmVyYXRlUmFuZG9tSWQiLCJzdGF0dXMiLCJzZXRQcmlvcml0eUhpZ2giLCJzZXRQcmlvcml0eU1lZGl1bSIsInNldFByaW9yaXR5TG93IiwiU2V0U3RhdHVzQ29tcGxldGUiLCJTZXRTdGF0dXNSZXNldCIsImRlbGV0ZUl0ZW0iLCJyZW1vdmUiLCJUb2RvR3JvdXAiLCJzdGF0aWMiLCJuYW1lIiwiYXJyIiwibmV4dElkIiwiY2hhbmdlTmFtZSIsImFkZFRhc2tGeG4iLCJ0YXNrIiwicHVzaCIsImRlbGV0ZVRhc2siLCJ0YXNrSWQiLCJmaWx0ZXIiLCJkYXRlIiwiRGF0ZSIsImNvbnNvbGUiLCJsb2ciLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJjb250ZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJhcHBlbmQiLCJoZWFkIiwiY3JlYXRlRWxlbWVudCIsImhlYWRUaXRsZSIsInRleHRDb250ZW50IiwiY3JlYXRlSGVhZGVyIiwiY3JlYXRlVGFza0J1dHRvbiIsImNsYXNzTGlzdCIsImFkZCIsImlubmVySFRNTCIsImR1ZURhdGUiLCJ0eXBlIiwicGxhY2Vob2xkZXIiLCJ0b2RvR3JvdXAiLCJwcm9tcHQiLCJncm91cFdyYXBwZXIiLCJyYW5kb21Cb3hTaGFkb3ciLCJsZW5ndGgiLCJnZXRSYW5kb21VbmlxdWVCb3hTaGFkb3ciLCJzdHlsZSIsImJveFNoYWRvdyIsImdyb3VwVGl0bGUiLCJ0ZXh0QWxpZ24iLCJhZGRUYXNrV3JhcHBlciIsImZybSIsImVudGVyVGl0bGUiLCJzZXRBdHRyaWJ1dGUiLCJlbnRlckRlc2NyaXB0aW9uIiwiaGlnaE9wdGlvbiIsInZhbHVlIiwidGV4dCIsIm1lZGl1bU9wdGlvbiIsImxvd09wdGlvbiIsImFwcGVuZENoaWxkIiwiYWRkQnRuIiwiZSIsInByZXZlbnREZWZhdWx0IiwidGFza1RpdGxlIiwidGFza0Rlc2MiLCJhbGVydCIsInNlbGVjdGVkVmFsdWUiLCJkdWVEYXRlVmFsdWUiLCJkYXRlVGltZVN0ciIsInRvTG9jYWxlU3RyaW5nIiwidW5kZWZpbmVkIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiaG91ciIsIm1pbnV0ZSIsImhvdXIxMiIsInRzayIsInRza1dyYXBwZXIiLCJ0b2RvR3JwIiwidGFza1dyYXBwZXIiLCJpZFdycCIsInRpdGxlV3JwIiwiZGVzY1dycCIsInN0YXR1c1dycCIsInByaW9yaXR5V3JwIiwiZHVlRGF0ZVdycCIsImlkTmFtZSIsInRpdGVsTmFtZSIsImRlc2NOYW1lIiwidGl0bGVVSSIsImlkVUkiLCJzZWxlY3RTdGF0dXMiLCJwcmlvcml0eVVJIiwibGFiZWwiLCJkZXNjcmlwdGlvblVJIiwicHJpb3JpdHlOYW1lIiwiZHVlRGF0ZU5hbWUiLCJkdWVEYXRlVWkiLCJkaXNhYmxlZCIsImNoZWNrZWQiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0b2RvSXRlbSIsInRhcmdldCIsImNsb3Nlc3QiLCJkZWxJZCIsImdldEF0dHJpYnV0ZSIsImFkZFRhc2siLCJ0b2dnbGVUYXNrc0J1dHRvbiIsImFkZE5ld0J0biIsInRvZ2dsZSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwiY29udGFpbnMiLCJmb3JtYXR0ZWREYXRlIiwidG9Mb2NhbGVEYXRlU3RyaW5nIiwid2Vla2RheSIsInRpbWVab25lTmFtZSIsImRhdGVXcmFwcGVyIiwiZGF0ZVRpdGxlIiwiZGF0ZUVsZW1lbnQiLCJkYXRlQ3JlYXRlZCIsImVsIiwiZWx6IiwiZ3JvdXBBY3Rpb25zIiwiZGVsZXRlR3JvdXBCdG4iLCJyZW5hbWVHcm91cEJ0biIsImdyb3VwQnRuTWVzc2FnZSIsIm5ld05hbWUiLCJxdWVyeVNlbGVjdG9yIiwiZ3JvdXBFZGl0IiwiY3JlYXRlVGFza0lucHV0cyIsIkZpbmFsbHkiXSwic291cmNlUm9vdCI6IiJ9